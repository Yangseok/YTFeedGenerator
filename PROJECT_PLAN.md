# 🎯 YouTube 피드 생성기 종합 계획

## 📋 기술 스택
- **백엔드**: Go + Wails v3 + GORM
- **프론트엔드**: React + TypeScript + Tailwind CSS
- **데이터베이스**: SQLite (태그 관계형 모델)
- **LLM**: Ollama (로컬) + OpenAI (클라우드)
- **영상 정보**: YouTube RSS 피드
- **자막/스크립트**: youtube-transcript-api-go
- **알림**: Wails notifications + System Tray
- **내보내기**: gofpdf (PDF), Blackfriday (Markdown)

## 🏗️ 프로젝트 구조
```

├── backend/
│   ├── services/
│   │   ├── youtube.go          # RSS 피드 파싱
│   │   ├── transcript.go       # 자막 추출
│   │   ├── llm.go             # LLM 연동
│   │   ├── template.go        # 요약 템플릿 관리
│   │   ├── notification.go    # 알림 시스템
│   │   ├── tagging.go         # 자동 태깅
│   │   └── export.go          # 내보내기 기능
│   ├── models/
│   │   ├── video.go           # 영상 모델
│   │   ├── channel.go         # 채널 모델
│   │   ├── tag.go             # 태그 모델
│   │   └── template.go        # 템플릿 모델
│   └── database/
│       └── migrations/        # DB 마이그레이션
├── frontend/
│   ├── src/
│   │   ├── components/
│   │   │   ├── Feed/
│   │   │   ├── Collector/
│   │   │   ├── Settings/
│   │   │   ├── Templates/
│   │   │   └── Tags/
│   │   ├── hooks/
│   │   ├── services/
│   │   └── types/
│   └── package.json
└── wails.json
```

## 🗄️ 데이터베이스 설계 (SQLite + GORM)

### 영상 모델
```go
type Video struct {
    ID          uint      `gorm:"primaryKey"`
    VideoID     string    `gorm:"uniqueIndex"`
    Title       string
    URL         string
    ChannelID   uint
    Transcript  string
    Summary     string
    Thumbnail   string
    PublishedAt time.Time
    Tags        []Tag     `gorm:"many2many:video_tags;"`
    Collections []Collection `gorm:"many2many:collection_videos;"`
    CreatedAt   time.Time
    UpdatedAt   time.Time
}
```

### 태그 모델
```go
type Tag struct {
    ID        uint      `gorm:"primaryKey"`
    Name      string    `gorm:"uniqueIndex"`
    Color     string    // 태그 색상
    AutoGenerated bool  // 자동 생성 여부
    Videos    []Video   `gorm:"many2many:video_tags;"`
    CreatedAt time.Time
}
```

### 요약 템플릿 모델
```go
type Template struct {
    ID          uint   `gorm:"primaryKey"`
    Name        string `gorm:"uniqueIndex"`
    Description string
    Prompt      string // LLM 프롬프트 템플릿
    Variables   string // JSON 형태의 변수 정의
    IsDefault   bool   // 기본 템플릿 여부
    CreatedBy   string // user/system
    CreatedAt   time.Time
}
```

## 🔔 실시간 알림 시스템
1. **새 영상 알림**: RSS 피드에서 새 영상 감지 시 즉시 알림
2. **요약 완료 알림**: LLM 처리 완료 후 요약본 전달
3. **주기적 요약**: 시간 단위(1시간, 6시간, 24시간)로 여러 영상 요약본 전달
4. **시스템 트레이 통합**: Wails system tray 메뉴에서 알림 설정 관리

## 📝 요약 템플릿 시스템

### 기본 템플릿 제공 (5개)
1. **간단 요약**: 3줄 핵심 요약
2. **상세 요약**: 핵심 포인트 + 상세 내용
3. **뉴스 스타일**: 제목 + 리드문 + 본문
4. **강의 노트**: 목차 + 핵심 내용 + 요약
5. **빠른 리뷰**: 긍정/부정 요소 + 총평

### 사용자 정의 템플릿 기능
- 템플릿 편집기 (Markdown + 변수 지원)
- 변수: `{title}`, `{channel}`, `{duration}`, `{key_points}`, `{summary}`
- 미리보기 기능
- 템플릿 공유/가져오기

## 🏷️ 자동 태깅 시스템 (조합 방식)
1. **채널 기반 태그**: 유튜버별 기본 태그 자동 부여
2. **LLM 분석 기반**: 요약 내용에서 자동으로 키워드 추출 및 태그 추천
3. **카테고리 분석**: 영상 제목/설명에서 키워드 추출
4. **사용자 피드백**: 추천 태그 수락/거부로 학습

## 🔄 핵심 기능 흐름 (개선版)
1. **YouTube 채널 모니터링** → RSS 피드 주기적 확인
2. **새 영상 감지** → 시스템 트레이 알림
3. **자막/스크립트 추출** → youtube-transcript-api-go
4. **자동 태깅** → 채널+LLM+키워드 분석
5. **템플릿 선택** → 사용자 또는 기본 템플릿
6. **LLM 요약** → Ollama 또는 OpenAI
7. **요약 완료 알림** → 시스템 트레이 + Feed 업데이트
8. **태그 관리** → 자동/수동 태깅 및 검색
9. **수집 및 내보내기** → 태그 필터링 + 다양한 형식

## 💡 추가 개선 사항
1. **스마트 필터링**: 태그 조합으로 복잡한 검색 지원
2. **백업/동기화**: 설정과 데이터 JSON으로 백업
3. **단축키 지원**: 빠른 작업 (새로고침, 저장, 내보내기)
4. **다크 모드**: 시스템 테마 자동 감지
5. **성능 최적화**: 비동기 처리 + 캐싱

## 📱 핵심 UI 화면
1. **Feed 페이지**: 영상 제목 + 요약본 (3줄 요약 + 펼치기), 저장/자세히/유튜브링크 버튼
2. **Collector 페이지**: 저장된 콜렉션 목록, 태그 필터링, 내보내기 기능
3. **설정 페이지**: 채널 관리, LLM 설정, 알림 설정, 템플릿 관리

## 🚀 구현 우선순위
1. Wails v3 + React 프로젝트 설정
2. YouTube RSS 피드 파싱 기능
3. SQLite 데이터베이스 구현
4. 자막 추출 및 LLM 요약 기능
5. 기본 Feed/Collector UI 구현
6. 알림 및 템플릿 시스템
7. 태그 시스템 및 고급 기능